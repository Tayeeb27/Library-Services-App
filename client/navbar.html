<link rel="stylesheet" href="css/default.css">
<head>
<style>
    nav {
        background-color: #800f2f;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;        
    }
    nav ul {
        list-style-type: none;
        margin: 0;
        padding: 5px;
        overflow: hidden;
    }
    nav li {
        float: left;
        padding: 3px;
        
    }
    nav li a {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
    }
    .title {
        display: block;
        color: white;
        text-align: center;
        font-family: "Poppins", sans-serif;
        font-weight: 700;
        font-size: 18px;
        padding: 14px 16px;
        text-decoration: none;
        
    }
    nav li a:hover {
        background-color: #ff4d6d;
    }

        

    </style>
</head>
<!-- old nav bar -->
<nav>
    <span class="title">Library Services <img src="assets/book.ico" alt="Logo" width="30" height="24"> </span>
    <ul>
        <li>
            <a class="navBn" href="home.html">Home</a>
        </li>
        <li>
            <a class="navBn" href="about.html">About</a>
        </li>
        <li>
            <a class="navBn" href="book.html">Book</a>
        </li>
        <li>
            <a class="navBn" href="contact.html">Contact</a>
        </li>
        <li>
            <a class="navBn" id="login-logout" href="login.html">Login</a>
        </li>
    </ul>
</nav>
<script>
    const loginBtn = document.getElementById("login-logout");
    const userLink = document.createElement("li");
    const userAnchor = document.createElement("a");
    const staffLink = document.createElement("li");
    const staffAnchor = document.createElement("a");
    if (localStorage.getItem("token") !== null) {
        loginBtn.textContent = "Logout";

        // Create the User link
        userAnchor.textContent = "User";
        userAnchor.className = "navBn";
        userAnchor.href = "user.html";
        userLink.appendChild(userAnchor);
        
        // Insert the User link before the Login link
        const loginLi = loginBtn.parentElement;
        loginLi.parentNode.insertBefore(userLink, loginLi);
        const userLi = userAnchor.parentElement;
        if (localStorage.getItem("access_lvl") === 1) {
            // Create the User link
            staffAnchor.textContent = "Staff";
            staffAnchor.className = "navBn";
            staffAnchor.href = "staff.html";
            staffLink.appendChild(staffAnchor);
            const loginLi = loginBtn.parentElement;
            loginLi.parentNode.insertBefore(staffLink, userLi);
        }
    } else {
        loginBtn.textContent = "Login";
    }
    
</script>
